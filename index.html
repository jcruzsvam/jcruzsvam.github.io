OneSignal.push(function () {
  OneSignal.init({
    appId: "4e28e2bf-93dc-418e-9a5e-df9522cf894e",
    serviceWorkerPath: "OneSignalSDKWorker.js",
    serviceWorkerUpdaterPath: "OneSignalSDKUpdaterWorker.js",
    notifyButton: {
      enable: false, // Desactiva el bot칩n flotante de OneSignal
    },
  });

  // Detectar si no est치 suscrito y mostrar autom치ticamente el permiso
  OneSignal.isPushNotificationsEnabled().then(function (isEnabled) {
    if (!isEnabled) {
      console.log("游댒 Usuario no est치 suscrito. Mostrando solicitud de permiso...");

      // Esto lanza el prompt del navegador
      OneSignal.registerForPushNotifications({
        modalPrompt: true // Muestra el prompt en un modal
      });
    }
  });

  OneSignal.getUserId().then(function (userId) {
    console.log("User ID:", userId);
  });

  OneSignal.on('subscriptionChange', function (isSubscribed) {
    console.log("游댃 Suscripci칩n cambi칩:", isSubscribed);
  });
});
